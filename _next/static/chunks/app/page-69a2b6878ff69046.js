(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1628:function(e,r,t){Promise.resolve().then(t.bind(t,674))},674:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return P}});var s=t(7437),a=t(2265),n=t(7712),l=t(1994),i=t(3335);function d(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.m6)((0,l.W)(r))}t(257);let o=(0,n.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:d(o({variant:t}),r),...a})}let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:d("rounded-xl border bg-card text-card-foreground shadow",t),...a})});u.displayName="Card";let f=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:d("flex flex-col space-y-1.5 p-6",t),...a})});f.displayName="CardHeader",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:d("font-semibold leading-none tracking-tight",t),...a})}).displayName="CardTitle",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:d("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let x=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:d("p-6 pt-0",t),...a})});x.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:d("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter";var m=t(4930);let h=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(m.fC,{ref:r,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a})});h.displayName=m.fC.displayName;let p=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(m.Ee,{ref:r,className:d("aspect-square h-full w-full",t),...a})});p.displayName=m.Ee.displayName;let g=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(m.NY,{ref:r,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a})});g.displayName=m.NY.displayName;var v=e=>{let{pr:r}=e;return(0,s.jsxs)(u,{className:"transition-colors",children:[(0,s.jsxs)(f,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(h,{className:"h-8 w-8",children:[(0,s.jsx)(p,{src:r.user.avatar_url,alt:r.user.login}),(0,s.jsx)(g,{children:r.user.login.slice(0,2).toUpperCase()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:r.title}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["by ",r.user.login," in ",r.repository]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c,{variant:"secondary",className:(e=>{switch(e){case"open":return"bg-green-500/10 text-green-500";case"draft":return"bg-gray-500/10 text-gray-500";default:return"bg-blue-500/10 text-blue-500"}})(r.state),children:r.state}),r.draft&&(0,s.jsx)(c,{variant:"secondary",children:"Draft"}),r.labels.map(e=>(0,s.jsx)(c,{variant:"outline",children:e},e))]})]}),(0,s.jsx)(x,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("p",{className:"text-sm",children:["Approvals: ",r.approvalCount]}),(0,s.jsx)("a",{href:r.url.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"View PR â†’"})]})})]})},b=t(7053);let y=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),j=a.forwardRef((e,r)=>{let{className:t,variant:a,size:n,asChild:l=!1,...i}=e,o=l?b.g7:"button";return(0,s.jsx)(o,{className:d(y({variant:a,size:n,className:t})),ref:r,...i})});j.displayName="Button";var N=t(3513);let w=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(N.fC,{className:d("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:r,children:(0,s.jsx)(N.bU,{className:d("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});w.displayName=N.fC.displayName;var k=t(6394);let C=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),R=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(k.f,{ref:r,className:d(C(),t),...a})});R.displayName=k.f.displayName;var _=e=>{let{prs:r}=e,[t,n]=(0,a.useState)(1),[l,i]=(0,a.useState)(!0),d=r.filter(e=>l||"dependabot[bot]"!==e.user.login),o=Math.ceil(d.length/10),c=(t-1)*10,u=d.slice(c,c+10);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(w,{id:"dependabot",checked:l,onCheckedChange:i}),(0,s.jsx)(R,{htmlFor:"dependabot",children:"Show Dependabot PRs"})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",c+1,"-",Math.min(c+10,d.length)," of ",d.length]})]}),(0,s.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,s.jsx)(v,{pr:e},e.id))}),o>1&&(0,s.jsxs)("div",{className:"flex justify-center space-x-2 mt-6",children:[(0,s.jsx)(j,{variant:"outline",onClick:()=>n(e=>Math.max(1,e-1)),disabled:1===t,children:"Previous"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:Array.from({length:o},(e,r)=>(0,s.jsx)(j,{variant:t===r+1?"default":"outline",onClick:()=>n(r+1),children:r+1},r+1))}),(0,s.jsx)(j,{variant:"outline",onClick:()=>n(e=>Math.min(o,e+1)),disabled:t===o,children:"Next"})]})]})};function P(){let[e,r]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/fetch-prs"),t=await e.json();r(t)}catch(e){console.error("Failed to fetch PRs:",e)}finally{n(!1)}})()},[]),t)?(0,s.jsx)("p",{children:"Loading..."}):(console.log("prs",e),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto py-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Open PRs"}),e.length>0?(0,s.jsx)(_,{prs:e}):(0,s.jsx)("p",{children:"No open PRs found."})]}))}}},function(e){e.O(0,[867,971,117,744],function(){return e(e.s=1628)}),_N_E=e.O()}]);